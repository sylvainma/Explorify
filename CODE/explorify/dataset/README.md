# Dataset

Use `generate.py` to create an HDFS5 file (.h5) of the images and their metadata. Type `python generate.py --help` for documentation. Example running command:

```
python generate.py --city paris --radius 15 --max-photos 1000 --dataset-file ../data/paris_1000.h5
python generate.py --city atlanta --radius 30 --max-photos 1000 --dataset-file ../data/atlanta_1000.h5
```

Usage example of the .h5 files is given in `visualization.ipynb`

## Metadata
Here is an example of the metadata saved in the .h5 files.

```python
{'id': '49068563277',
    'secret': 'ac7e2ecd03',
    'server': '65535',
    'farm': 66,
    'dateuploaded': '1573809026',
    'isfavorite': 0,
    'license': '0',
    'safety_level': '0',
    'rotation': 0,
    'owner': {'iconfarm': 8,
     'iconserver': '7878',
     'id': '22276110@N02',
     'loaded': False,
     'location': 'New York, USA',
     'nsid': '22276110@N02',
     'path_alias': 'zaroutski',
     'realname': '',
     'token': None,
     'username': 'lotosleo'},
    'title': 'Edgewood, Atlanta GA',
    'description': '23ap16_502',
    'views': '195', # number of views
    'count_faves': '6', # number of likes
    'editability': {'cancomment': 0, 'canaddmeta': 0},
    'comments': '0', # number of comments
    'notes': [],
    'people': {'haspeople': 0},
    'tags': [{'token': None,
      'id': '22255762-49068563277-14925',
      'authorname': 'lotosleo',
      'raw': 'Edgewood',
      'text': 'edgewood',
      'machine_tag': 0,
      'author': {},
      'loaded': False},
     {'token': None,
      'id': '22255762-49068563277-190',
      'authorname': 'lotosleo',
      'raw': 'Atlanta',
      'text': 'atlanta',
      'machine_tag': 0,
      'author': {},
      'loaded': False},
     {'token': None,
      'id': '22255762-49068563277-1383',
      'authorname': 'lotosleo',
      'raw': 'GA',
      'text': 'ga',
      'machine_tag': 0,
      'author': {},
      'loaded': False},
     {'token': None,
      'id': '22255762-49068563277-1560',
      'authorname': 'lotosleo',
      'raw': 'Georgia',
      'text': 'georgia',
      'machine_tag': 0,
      'author': {},
      'loaded': False},
     {'token': None,
      'id': '22255762-49068563277-223',
      'authorname': 'lotosleo',
      'raw': 'sunset',
      'text': 'sunset',
      'machine_tag': 0,
      'author': {},
      'loaded': False},
     {'token': None,
      'id': '22255762-49068563277-1695',
      'authorname': 'lotosleo',
      'raw': 'landscape',
      'text': 'landscape',
      'machine_tag': 0,
      'author': {},
      'loaded': False},
     {'token': None,
      'id': '22255762-49068563277-291',
      'authorname': 'lotosleo',
      'raw': 'urban',
      'text': 'urban',
      'machine_tag': 0,
      'author': {},
      'loaded': False},
     {'token': None,
      'id': '22255762-49068563277-300032353',
      'authorname': 'lotosleo',
      'raw': '#CrossAmerica2016',
      'text': 'crossamerica2016',
      'machine_tag': 0,
      'author': {},
      'loaded': False}],
    'location': {'latitude': '33.758776',
     'longitude': '-84.328823',
     'accuracy': '14',
     'context': '0',
     'locality': 'North Kirkwood',
     'county': 'DeKalb',
     'region': 'Georgia',
     'country': 'United States',
     'neighbourhood': ''},
    'geoperms': {'ispublic': 1, 'iscontact': 0, 'isfriend': 0, 'isfamily': 0},
    'urls': {'url': [{'type': 'photopage',
       'text': 'https://www.flickr.com/photos/zaroutski/49068563277/'}]},
    'media': 'photo',
    'candownload': 0,
    'canblog': 0,
    'canprint': 0,
    'canshare': 1,
    'ispublic': 1,
    'isfriend': 0,
    'isfamily': 0,
    'cancomment': 1,
    'canaddmeta': 0,
    'posted': '1573809026',
    'taken': '2016-04-26 20:10:35',
    'takengranularity': '0',
    'takenunknown': '0',
    'lastupdate': '1575937196',
    'photo_file_urls': {'Square': 'https://live.staticflickr.com/65535/49068563277_ac7e2ecd03_s.jpg',
     'Thumbnail': 'https://live.staticflickr.com/65535/49068563277_ac7e2ecd03_t.jpg',
     'Small': 'https://live.staticflickr.com/65535/49068563277_ac7e2ecd03_m.jpg',
     'Medium': 'https://live.staticflickr.com/65535/49068563277_ac7e2ecd03.jpg',
     'Medium 640': 'https://live.staticflickr.com/65535/49068563277_ac7e2ecd03_z.jpg',
     'Large': 'https://live.staticflickr.com/65535/49068563277_ac7e2ecd03_b.jpg',
     'Original': None},
    'aesthetic_score': 3.5699649501126878} # score from our machine learning model
```